SQUARE = {i: int(i)**2 for i in "0123456789"}
def is_happy(n, debug=False):
    while n > 1 and n != 4:
        if debug:
            proof(n)
        n = sum([SQUARE[i] for i in str(n)])
    return n == 1


##num = 432908432904832490812849328493048584480584328594373832754938927504
##num = 24897749359723244908730965820940386438930254093268754875489327548321328473
##num = 2874389327358427458390843259736840972038210912387284973689729018097325094873234224709328
##num = 809284939484572398549837024365974385947959437594750473272857329744398548732805984090943850986094368607565086085984759207352140
##num = 89028493285843209540398509838509842509832984755957934549308754932405843743957432908508435740985974365084390584754983095843985080438534
##num = 37249837489324509824354832984739804723508943794883973082759843793207580943275649375894379837594305983025734750347985943750439275907435794302
##num = 209148709328498309473374832979281094238590384904834703287049832
##num = 19280938343094034940956432821444444985843279475483372974932
num = 2019

def proof(num):
    tot = 0
    index = 0
    print num
    for ix in str(num):
        int_ix = int(ix)
        sqr_ix = int_ix ** 2
        tot += int_ix ** 2
        print "index {:>3}{:>15}{:>25}{:>40}".format(index, int_ix, sqr_ix, tot)
        index += 1

if __name__ == "__main__":
    print is_happy(num, True)
